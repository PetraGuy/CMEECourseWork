colnames(data) =cbind("meanph","meanSOM")
g4 = ggplot(data, aes(x= meanph, y = meanSOM))+
geom_point()+
geom_smooth(method = lm)
data = as.data.frame(cbind(sitevars$Northing,sitevars$meanSOM))
colnames(data) =cbind("Northing","meanSOM")
g5 = ggplot(data, aes(x= Northing, y = meanSOM))+
geom_point()+
geom_smooth(method = lm)
data = as.data.frame(cbind(sitevars$meanTD,sitevars$meanSOM))
colnames(data) =cbind("meanTD","meanSOM")
g6 = ggplot(data, aes(x= meanTD, y = meanSOM))+
geom_point()+
geom_smooth(method = lm)
data = as.data.frame(cbind(sitevars$meanTD,sitevars$Northing))
colnames(data) =cbind("meanTD","Northing")
g7 = ggplot(data, aes(x= meanTD, y = Northing))+
geom_point()+
geom_smooth(method = lm)
data = as.data.frame(cbind(sitevars$BufferI, sitevars$Northing))
colnames(data) =cbind("BufferI","Northing")
g8 = ggplot(data, aes(x= BufferI, y = Northing))+
geom_point()+
geom_smooth(method = lm)
g9 = ggplot(sitevars, aes(x = Northing, y = mean_L))+
geom_point()+
geom_smooth(method = lm)
g10 = ggplot(sitevars, aes(x = meanTD, y = mean_L))+
geom_point() +
geom_smooth(method = lm)
g11 = ggplot(sitevars, aes(x = mean_L, y = Richness ))+ geom_smooth(method = lm)
grid.arrange(g7,g8,g9,g10, nrow = 2)
#grid.arrange(g1,g2,g3,g4,g5,g6,g7, nrow =2)
data = as.data.frame(cbind(sitevars$Northing,sitevars$BufferI, sitevars$Buffer3))
colnames(data)= c("Northing", "BufferI","Buffer3")
melted = melt(data, id.vars = "Northing")
g1 = ggplot(melted, aes(x= Northing, y = value))+
geom_point(aes(colour = variable))+
geom_smooth(method = lm, aes(colour = variable))
data = as.data.frame(cbind(sitevars$meandbh,sitevars$BufferI, sitevars$Buffer3))
colnames(data)= c("meandbh", "BufferI","Buffer3")
melted = melt(data, id.vars = "meandbh")
g2 = ggplot(melted, aes(x= meandbh, y = value))+
geom_point(aes(colour = variable))+
geom_smooth(method = lm, aes(colour = variable))
data = as.data.frame(cbind(sitevars$meanSOM,sitevars$BufferI, sitevars$Buffer3))
colnames(data)= c("meanSOM", "BufferI","Buffer3")
melted = melt(data, id.vars = "meanSOM")
g3 = ggplot(melted, aes(x= meanSOM, y = value))+
geom_point(aes(colour = variable))+
geom_smooth(method = lm, aes(colour = variable))
data = as.data.frame(cbind(sitevars$meanTD,sitevars$BufferI, sitevars$Buffer3))
colnames(data)= c("meanTD", "BufferI","Buffer3")
melted = melt(data, id.vars = "meanTD")
g4 = ggplot(melted, aes(x= meanTD, y = value))+
geom_point(aes(colour = variable))+
geom_smooth(method = lm, aes(colour = variable))
data = as.data.frame(cbind(sitevars$meanph,sitevars$BufferI, sitevars$Buffer3))
colnames(data)= c("meanpH", "BufferI","Buffer3")
melted = melt(data, id.vars = "meanpH")
g5 = ggplot(melted, aes(x= meanpH, y = value))+
geom_point(aes(colour = variable))+
geom_smooth(method = lm, aes(colour = variable))
data = as.data.frame(cbind(sitevars$area_ratio,sitevars$BufferI, sitevars$Buffer3))
colnames(data)= c("area_ratio", "BufferI","Buffer3")
melted = melt(data, id.vars = "area_ratio")
g6 = ggplot(melted, aes(x= area_ratio, y = value))+
geom_point(aes(colour = variable))+
geom_smooth(method = lm, aes(colour = variable))
grid.arrange(g1,g2,g3,g4,g5, g6, nrow = 3)
data = as.data.frame(cbind(sitevars$meandbh,sitevars$Northing))
colnames(data) =cbind("meandbh","Northing")
g1 = ggplot(data, aes(x= meandbh, y = Northing))+
geom_point()+
geom_smooth(method = lm)
data = as.data.frame(cbind(sitevars$meandbh, sitevars$meanph))
colnames(data) = cbind("meandbh","meanph")
g2 = ggplot(data, aes(x= meandbh, y = meanph))+
geom_point()+
geom_smooth(method = lm)
data = as.data.frame(cbind(sitevars$meandbh,sitevars$meanSOM))
colnames(data) =cbind("meandbh","meanSOM")
g3 = ggplot(data, aes(x= meandbh, y = meanSOM))+
geom_point()+
geom_smooth(method = lm)
data = as.data.frame(cbind(sitevars$meanph,sitevars$meanSOM))
colnames(data) =cbind("meanph","meanSOM")
g4 = ggplot(data, aes(x= meanph, y = meanSOM))+
geom_point()+
geom_smooth(method = lm)
data = as.data.frame(cbind(sitevars$Northing,sitevars$meanSOM))
colnames(data) =cbind("Northing","meanSOM")
g5 = ggplot(data, aes(x= Northing, y = meanSOM))+
geom_point()+
geom_smooth(method = lm)
data = as.data.frame(cbind(sitevars$meanTD,sitevars$meanSOM))
colnames(data) =cbind("meanTD","meanSOM")
g6 = ggplot(data, aes(x= meanTD, y = meanSOM))+
geom_point()+
geom_smooth(method = lm)
data = as.data.frame(cbind(sitevars$meanTD,sitevars$Northing))
colnames(data) =cbind("meanTD","Northing")
g7 = ggplot(data, aes(x= meanTD, y = Northing))+
geom_point()+
geom_smooth(method = lm)
data = as.data.frame(cbind(sitevars$BufferI, sitevars$Northing))
colnames(data) =cbind("Buffer","Northing")
g8 = ggplot(data, aes(x= BufferI, y = Northing))+
geom_point()+
geom_smooth(method = lm)
g9 = ggplot(sitevars, aes(x = Northing, y = mean_L))+
geom_point()+
geom_smooth(method = lm)
g10 = ggplot(sitevars, aes(x = meanTD, y = mean_L))+
geom_point() +
geom_smooth(method = lm)
g11 = ggplot(sitevars, aes(x = mean_L, y = Richness ))+ geom_smooth(method = lm)
grid.arrange(g7,g8,g9,g10, nrow = 2)
colnames(data) =cbind("Buffer","Northing")
data = as.data.frame(cbind(sitevars$meandbh,sitevars$Northing))
colnames(data) =cbind("meandbh","Northing")
g1 = ggplot(data, aes(x= meandbh, y = Northing))+
geom_point()+
geom_smooth(method = lm)
data = as.data.frame(cbind(sitevars$meandbh, sitevars$meanph))
colnames(data) = cbind("meandbh","meanph")
g2 = ggplot(data, aes(x= meandbh, y = meanph))+
geom_point()+
geom_smooth(method = lm)
data = as.data.frame(cbind(sitevars$meandbh,sitevars$meanSOM))
colnames(data) =cbind("meandbh","meanSOM")
g3 = ggplot(data, aes(x= meandbh, y = meanSOM))+
geom_point()+
geom_smooth(method = lm)
data = as.data.frame(cbind(sitevars$meanph,sitevars$meanSOM))
colnames(data) =cbind("meanph","meanSOM")
g4 = ggplot(data, aes(x= meanph, y = meanSOM))+
geom_point()+
geom_smooth(method = lm)
data = as.data.frame(cbind(sitevars$Northing,sitevars$meanSOM))
colnames(data) =cbind("Northing","meanSOM")
g5 = ggplot(data, aes(x= Northing, y = meanSOM))+
geom_point()+
geom_smooth(method = lm)
data = as.data.frame(cbind(sitevars$meanTD,sitevars$meanSOM))
colnames(data) =cbind("meanTD","meanSOM")
g6 = ggplot(data, aes(x= meanTD, y = meanSOM))+
geom_point()+
geom_smooth(method = lm)
data = as.data.frame(cbind(sitevars$meanTD,sitevars$Northing))
colnames(data) =cbind("meanTD","Northing")
g7 = ggplot(data, aes(x= meanTD, y = Northing))+
geom_point()+
geom_smooth(method = lm)
data = as.data.frame(cbind(sitevars$BufferI, sitevars$Northing))
colnames(data) =cbind("Buffer","Northing")
g8 = ggplot(data, aes(x= Buffer, y = Northing))+
geom_point()+
geom_smooth(method = lm)
g9 = ggplot(sitevars, aes(x = Northing, y = mean_L))+
geom_point()+
geom_smooth(method = lm)
g10 = ggplot(sitevars, aes(x = meanTD, y = mean_L))+
geom_point() +
geom_smooth(method = lm)
g11 = ggplot(sitevars, aes(x = mean_L, y = Richness ))+ geom_smooth(method = lm)
grid.arrange(g7,g8,g9,g10, nrow = 2)
#grid.arrange(g1,g2,g3,g4,g5,g6,g7, nrow =2)
knitr::opts_chunk$set(
echo = FALSE,
message = FALSE,
warning = FALSE
)
library(gridExtra)
library(dplyr)
library(ggplot2)
rm(list = ls())
cat("\014")
plotdata = read.csv("../../Data/AllPlotsVarsRichness.csv")
sitedata = read.csv("../../Data/CompleteSiteLevelVars.csv")
data = plotdata%>%filter(!is.na(pHYr2))
g1 = ggplot(data = data , aes(x = as.factor(round(pHYr2,0)), y = plot_richness))+
geom_boxplot()+
labs(x = "pH", y = "plot richnesses")+
ggtitle( "Plot richness with pH")
g2 = ggplot(data = sitedata, aes(x = meanSOM, y = meanph))+
geom_point()+
geom_smooth(method = lm)+
ggtitle("MeanpH with meanSOM")
g3 = ggplot(data = sitedata, aes(x = meanph, y = Richness))+
geom_point()+
geom_smooth(method = loess)+
ggtitle("Site richness with meanpH")+
ylab("site richness")
g4 = ggplot(data = sitedata, aes(x = meanSOM, y = Richness))+
geom_point()+
geom_smooth(method = lm)+
ggtitle("Site richness with meanSOM")+
ylab("site richness")
grid.arrange(g1,g2,g3,g4, nrow = 2)
ggplot(data = sitedata, aes(x = meanSOM, y = meandbh))+
geom_point()+
geom_smooth(method = lm)+
ggtitle("MeanDBH of each site with meanSOM")
fNVC = as.data.frame(table(plotdata$Yr2NVC))
fNVC = fNVC[order(fNVC$Freq),]
colnames(fNVC) = c("ShortNVC","frequency")
meanSOM = plotdata%>%group_by(ShortNVC)%>%summarise(meanSOM = round(mean(SOMYr2, na.rm = TRUE),1))
NVC_SOM = inner_join(fNVC,meanSOM)
library(RColorBrewer)
library(treemap)
tm1 <- treemap(
NVC_SOM,
index="ShortNVC",
vSize="frequency",
vColor="meanSOM",
type="value",
title.legend = "SOM content",
title = "Frequency of the different NVC codes and their mean SOM content",
palette = "RdYlBu"
)
View(sitedata)
source('C:/dev/code/CMEECourseWork/CMEEMainProject/Code/Specieslists.R')
setwd("C:/dev/code/CMEECourseWork/CMEEMainProject/Code")
source('C:/dev/code/CMEECourseWork/CMEEMainProject/Code/Specieslists.R')
source('C:/dev/code/CMEECourseWork/CMEEMainProject/Code/Specieslists.R')
library(dplyr)
library(gridExtra)
library(ggplot2)
groundflora = read.csv("../Data/GroundCover.csv")
colnames(groundflora) = c("Site","Plot","Nest","Cover","BRC","Year")
veg_codes = read.csv("../Data/vegetation_codes.csv")
colnames(veg_codes) = c("Species","BRC")
year2groundcover = groundflora%>%filter(Year == 2)
colnames(year2groundcover) = c("Site","Plot","Nest","Cover","BRC","Year")
species_per_plot = inner_join(year2groundcover, veg_codes)
ellenbergs = read.csv("../Data/Ellenbergs.csv")
colnames(ellenbergs) = c("BRC","Taxon name","Light","Moisture","pH","Nitrogen","Silinity")
#png("../Data/site88.png")
species76 =  species_per_plot%>%filter(Site==76)
species76 = unique(species76$Species)
grid.table(unique(species20$Species))
grid.table(unique(species76$Species))
species76
species74 =  species_per_plot%>%filter(Site==74)
species74 = unique(species74$Species)
species74
g5 = ggplot(data = sitedata, aes(x = meanSOM, y = Northing))+
geom_point()+
geom_smooth(method = lm)+
ggtitle("Northing with meanSOM")+
ylab("site richness")
g6 = ggplot(data = sitedata, aes(x = meanSOM, y = meanTD))+
geom_point()+
geom_smooth(method = lm)+
ggtitle("meanTD with meanSOM")+
ylab("site richness")
g7 = ggplot(data = sitedata, aes(x = meanSOM, y = mean_L))+
geom_point()+
geom_smooth(method = lm)+
ggtitle("Ellenberg L with meanSOM")+
ylab("site richness")
g8 = ggplot(data = sitedata, aes(x = meanSOM, y = Buffer))+
geom_point()+
geom_smooth(method = lm)+
ggtitle("Buffer with meanSOM")+
ylab("site richness")
grid.arrange(g5,g6,g7,g8, nrow = 2)
g6 = ggplot(data = sitedata, aes(x = meanSOM, y = meantreedensity))+
geom_point()+
geom_smooth(method = lm)+
ggtitle("meanTD with meanSOM")+
ylab("site richness")
g7 = ggplot(data = sitedata, aes(x = meanSOM, y = mean_L))+
geom_point()+
geom_smooth(method = lm)+
ggtitle("Ellenberg L with meanSOM")+
ylab("site richness")
g8 = ggplot(data = sitedata, aes(x = meanSOM, y = Buffer))+
geom_point()+
geom_smooth(method = lm)+
ggtitle("Buffer with meanSOM")+
ylab("site richness")
grid.arrange(g5,g6,g7,g8, nrow = 2)
g6 = ggplot(data = sitedata, aes(x = meanSOM, y = meantreedensity))+
geom_point()+
geom_smooth(method = lm)+
ggtitle("meanTD with meanSOM")+
ylab("site richness")
g7 = ggplot(data = sitedata, aes(x = meanSOM, y = mean_L))+
geom_point()+
geom_smooth(method = lm)+
ggtitle("Ellenberg L with meanSOM")+
ylab("site richness")
g8 = ggplot(data = sitedata, aes(x = meanSOM, y = Buffer1))+
geom_point()+
geom_smooth(method = lm)+
ggtitle("Buffer with meanSOM")+
ylab("site richness")
grid.arrange(g5,g6,g7,g8, nrow = 2)
g5 = ggplot(data = sitedata, aes(x = meanSOM, y = Northing))+
geom_point()+
geom_smooth(method = lm)+
ggtitle("Northing with meanSOM")+
ylab("Northing")
g6 = ggplot(data = sitedata, aes(x = meanSOM, y = meantreedensity))+
geom_point()+
geom_smooth(method = lm)+
ggtitle("meanTD with meanSOM")+
ylab("mean_TD")
g7 = ggplot(data = sitedata, aes(x = meanSOM, y = mean_L))+
geom_point()+
geom_smooth(method = lm)+
ggtitle("Ellenberg L with meanSOM")+
ylab("mean_L")
g8 = ggplot(data = sitedata, aes(x = meanSOM, y = Buffer1))+
geom_point()+
geom_smooth(method = lm)+
ggtitle("Buffer with meanSOM")+
ylab("Buffer")
grid.arrange(g5,g6,g7,g8, nrow = 2)
allplotvars = read.csv("../../Data/AllPlotsVarsRichness.csv")
y = allplotvars$plot_richness
x = as.factor(allplotvars$ShortNVC)
data = as.data.frame(cbind(as.factor(x),y))
colnames(data) = c("NVC code", "Richness")
ggplot(data, aes(x = x, y = y))+
geom_boxplot()+
xlab("NVC Code")+
ggtitle("range of richness aross all plots with NVC code")+
theme(axis.text.x = element_text(angle = 90))+
geom_abline(slope = 0, intercept = 20)
View(allplotvars)
allplotvars = read.csv("../../Data/AllPlotsVarsRichness.csv")
y = allplotvars$SOMYr2
x = as.factor(allplotvars$ShortNVC)
data = as.data.frame(cbind(as.factor(x),y))
colnames(data) = c("NVC code", "Richness")
ggplot(data, aes(x = x, y = y))+
geom_boxplot()+
xlab("NVC Code")+
ggtitle("range of richness aross all plots with NVC code")+
theme(axis.text.x = element_text(angle = 90))+
geom_abline(slope = 0, intercept = 20)
allplotvars = read.csv("../../Data/AllPlotsVarsRichness.csv")
y = allplotvars$SOMYr2
x = as.factor(allplotvars$ShortNVC)
data = as.data.frame(cbind(as.factor(x),y))
colnames(data) = c("NVC code", "Richness")
ggplot(data, aes(x = x, y = y))+
geom_boxplot()+
xlab("NVC Code")+
ggtitle("range of richness aross all plots with NVC code")+
theme(axis.text.x = element_text(angle = 90))+
geom_abline(slope = 0, intercept = 20)
allplotvars = read.csv("../../Data/AllPlotsVarsRichness.csv")
y = allplotvars$SOMYr2
x = as.factor(allplotvars$ShortNVC)
data = as.data.frame(cbind(as.factor(x),y))
colnames(data) = c("NVC code", "Richness")
ggplot(data, aes(x = x, y = y))+
geom_boxplot()+
xlab("NVC Code")+
ggtitle("range of SOM aross all plots with NVC code")+
theme(axis.text.x = element_text(angle = 90))+
geom_abline(slope = 0, intercept = 20)
allplotvars = read.csv("../../Data/AllPlotsVarsRichness.csv")
y = allplotvars$plot_richness
x = as.factor(allplotvars$ShortNVC)
data = as.data.frame(cbind(as.factor(x),y))
colnames(data) = c("NVC code", "Richness")
ggplot(data, aes(x = x, y = y))+
geom_boxplot(aes(fill = SOMYr2))+
xlab("NVC Code")+
ggtitle("range of richness aross all plots with NVC code")+
theme(axis.text.x = element_text(angle = 90))+
geom_abline(slope = 0, intercept = 20)
allplotvars = read.csv("../../Data/AllPlotsVarsRichness.csv")
y = allplotvars$plot_richness
x = as.factor(allplotvars$ShortNVC)
data = as.data.frame(cbind(as.factor(x),y))
colnames(data) = c("NVC code", "Richness")
ggplot(data, aes(x = x, y = y))+
geom_boxplot(aes(fill = allplotvars$SOMYr2))+
xlab("NVC Code")+
ggtitle("range of richness aross all plots with NVC code")+
theme(axis.text.x = element_text(angle = 90))+
geom_abline(slope = 0, intercept = 20)
allplotvars = read.csv("../../Data/AllPlotsVarsRichness.csv")
y = allplotvars$plot_richness
x = as.factor(allplotvars$ShortNVC)
data = as.data.frame(cbind(as.factor(x),y))
colnames(data) = c("NVC code", "Richness")
ggplot(data, aes(x = x, y = y))+
geom_boxplot(aes(fill = allplotvars$SOMYr2))+
stat_summary(fun.y=mean, colour="darkred", geom="point") +
scale_fill_gradient(low=hcl(15,100,75), high=hcl(195,100,75))+
xlab("NVC Code")+
ggtitle("range of richness aross all plots with NVC code")+
theme(axis.text.x = element_text(angle = 90))+
geom_abline(slope = 0, intercept = 20)
ggplot(allplotvars %>% group_by(ShortNVC) %>%
mutate(plot_richness = median(plot_richness)),
aes(x = reorder(ShortNVC, plot_richness, FUN=median), y = plot_richness)) +
geom_boxplot(aes(fill=SOMYr2)) +
stat_summary(fun.y=mean, colour="darkred", geom="point") +
scale_fill_gradient(low=hcl(15,100,75), high=hcl(195,100,75))
ggplot(allplotvars %>% group_by(ShortNVC),
aes(x = reorder(ShortNVC, plot_richness, FUN=median), y = plot_richness)) +
geom_boxplot(aes(fill=SOMYr2)) +
stat_summary(fun.y=mean, colour="darkred", geom="point") +
scale_fill_gradient(low=hcl(15,100,75), high=hcl(195,100,75))
?scale_fill_gradient
ggplot(allplotvars %>% group_by(ShortNVC),
aes(x = reorder(ShortNVC, plot_richness, FUN=median), y = plot_richness)) +
geom_boxplot(aes(fill=SOMYr2)) +
stat_summary(fun.y=mean, colour="darkred", geom="point") +
scale_fill_gradient2()
ggplot(allplotvars %>% group_by(ShortNVC),
aes(x = reorder(ShortNVC, plot_richness, FUN=median), y = plot_richness)) +
geom_boxplot(aes(fill=SOMYr2)) +
stat_summary(fun.y=mean, colour="darkred", geom="point") +
scale_fill_gradient(low = "white", high = "black")
ggplot(allplotvars %>% group_by(ShortNVC),
aes(x = reorder(ShortNVC, plot_richness, FUN=median), y = plot_richness)) +
geom_boxplot(aes(fill=SOMYr2)) +
scale_fill_gradient(low = "white", high = "black")
ggplot(allplotvars %>% group_by(ShortNVC),
aes(x = reorder(ShortNVC, plot_richness, FUN=median), y = plot_richness)) +
geom_boxplot(aes(fill=SOMYr2)) +
scale_fill_gradient(low = "white", high = "blue")
ggplot(allplotvars %>% group_by(ShortNVC),
aes(x = reorder(ShortNVC, plot_richness, FUN=median), y = plot_richness)) +
geom_boxplot(aes(fill=SOMYr2)) +
scale_fill_gradient(low = "white", high = "blue")+
theme(axis.text.x = element_text(angle = 90))
fNVC = as.data.frame(table(plotdata$SOMYr2))
fNVC = fNVC[order(fNVC$Freq),]
colnames(fNVC) = c("SOMYr2","frequency")
meanSOM = allplotvars%>%group_by(SOMYr2)%>%summarise(meanrichness = round(mean(plot_richness, na.rm = TRUE),1))
NVC_SOM = inner_join(fNVC,meanSOM)
fNVC = as.data.frame(table(plotdata$SOMYr2))
fNVC = fNVC[order(fNVC$Freq),]
colnames(fNVC) = c("SOMYr2","frequency")
meanSOM = allplotvars%>%group_by(SOMYr2)%>%summarise(meanrichness = round(mean(plot_richness, na.rm = TRUE),1))
fNVC
ggplot(data, aes(x = reorder(ShortNVC, plot_richness, FUN=median), y = plot_richness)) +
geom_boxplot(aes(fill=SOMYr2)) +
scale_fill_gradient(low = "white", high = "blue")+
theme(axis.text.x = element_text(angle = 90))
ggplot(data, aes(x = reorder(ShortNVC, plot_richness, FUN=median), y = plot_richness)) +
geom_boxplot(aes(fill=allplotvars$SOMYr2)) +
scale_fill_gradient(low = "white", high = "blue")+
theme(axis.text.x = element_text(angle = 90))
View(data)
allplotvars = read.csv("../../Data/AllPlotsVarsRichness.csv")
y = allplotvars$plot_richness
x = as.factor(allplotvars$ShortNVC)
fill = allplotvars$SOMYr2
data = as.data.frame(cbind(as.factor(x),y,fill))
colnames(data) = c("NVCcode", "Richness","SOMYr2")
ggplot(data, aes(x = reorder(NVCcode, plot_richness, FUN=median), y = Richness)) +
geom_boxplot(aes(fill=SOMYr2)) +
scale_fill_gradient(low = "white", high = "blue")+
theme(axis.text.x = element_text(angle = 90))
ggplot(data, aes(x = reorder(NVCcode, Richness, FUN=median), y = Richness)) +
geom_boxplot(aes(fill=SOMYr2)) +
scale_fill_gradient(low = "white", high = "blue")+
theme(axis.text.x = element_text(angle = 90))
ggplot(data, aes(x = x, y = y))+
geom_boxplot(aes(fill = allplotvars$SOMYr2))+
xlab("NVC Code")+
ggtitle("range of richness aross all plots with NVC code")+
theme(axis.text.x = element_text(angle = 90))+
geom_abline(slope = 0, intercept = 20)
ggplot(data, aes(x = x, y = y))+
geom_boxplot()+
xlab("NVC Code")+
ggtitle("range of richness aross all plots with NVC code")+
theme(axis.text.x = element_text(angle = 90))+
geom_abline(slope = 0, intercept = 20)
ggplot(data, aes(x = reorder(NVCcode, Richness, FUN=median), y = Richness,fill=SOMYr2) ) +
geom_boxplot() +
scale_fill_gradient(low = "white", high = "blue")+
theme(axis.text.x = element_text(angle = 90))
ggplot(data, aes(x = reorder(NVCcode, Richness, FUN=median), y = Richness,fill=SOMYr2) ) +
geom_boxplot() +
scale_fill_continuous(low = "white", high = "blue")+
theme(axis.text.x = element_text(angle = 90))
ggplot(data, aes(x = reorder(NVCcode, Richness, FUN=median), y = Richness,fill=SOMYr2) ) +
geom_boxplot() +
scale_fill_continuous(low = "white", high = "blue")+
theme(axis.text.x = element_text(angle = 90))+
xlab("NVC Code")
ggplot(data, aes(x = reorder(NVCcode, Richness, FUN=median), y = Richness) ) +
geom_boxplot(aes(fill = SOMYr2)) +
scale_fill_continuous(low = "white", high = "blue")+
theme(axis.text.x = element_text(angle = 90))+
xlab("NVC Code")
install.packages(mtcars)
ggplot(mtcars %>% group_by(carb) %>%
mutate(medMPG = median(mpg)),
aes(x = reorder(carb, mpg, FUN=median), y = mpg)) +
geom_boxplot(aes(fill=medMPG)) +
stat_summary(fun.y=mean, colour="darkred", geom="point") +
scale_fill_gradient(low=hcl(15,100,75), high=hcl(195,100,75))
ggplot(allplotvars %>% group_by(ShortNVC) %>%
mutate(medSOM = median(SOMYr2)),
aes(x = reorder(ShortNVC, plot_richness, FUN=median), y = plot_richness)) +
geom_boxplot(aes(fill=medSOM)) +
stat_summary(fun.y=mean, colour="darkred", geom="point") +
scale_fill_gradient(low=hcl(15,100,75), high=hcl(195,100,75))
